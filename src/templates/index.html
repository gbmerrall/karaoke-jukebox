{% extends "base.html" %}

{% block title %}Home - Karaoke App{% endblock %}

{% block content %}
<h1 class="text-center">Welcome to the Karaoke Queue App!</h1>
<p class="text-center">Please log in to continue.</p>
<div class="row justify-content-center mt-4">
  <div class="col-md-6 col-lg-4">
    <form id="login-form" method="post" action="/" autocomplete="off">
      <div class="mb-3">
        <label for="username" class="form-label">Name</label>
        <input type="text" class="form-control" id="username" name="username" required autofocus autocomplete="off">
      </div>
      <div class="mb-3" id="password-group" style="display:none;">
        <label for="password" class="form-label">Admin Password</label>
        <input type="password" class="form-control" id="password" name="password" autocomplete="off">
      </div>
      <button type="submit" class="btn btn-primary w-100">Login</button>
      {% if error %}
        <div class="alert alert-danger mt-3">{{ error }}</div>
      {% endif %}
    </form>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const usernameInput = document.getElementById('username');
    const passwordGroup = document.getElementById('password-group');
    usernameInput.addEventListener('input', function() {
      if (usernameInput.value.trim().toLowerCase() === 'admin') {
        passwordGroup.style.display = '';
        document.getElementById('password').required = true;
      } else {
        passwordGroup.style.display = 'none';
        document.getElementById('password').required = false;
      }
    });
  });
</script>
{% endblock %} 