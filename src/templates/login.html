{% extends "base.html" %}

{% block title %}Login - Karaoke App{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6 col-lg-4">
    <h2 class="text-center mb-4">Login</h2>
    <form id="login-form" method="post" action="/login">
      <div class="mb-3">
        <label for="username" class="form-label">Name</label>
        <input type="text" class="form-control" id="username" name="username" required autocomplete="off">
      </div>
      <div class="mb-3" id="password-group" style="display: none;">
        <label for="password" class="form-label">Admin Password</label>
        <input type="password" class="form-control" id="password" name="password" autocomplete="off">
      </div>
      <button type="submit" class="btn btn-primary w-100">Continue</button>
    </form>
  </div>
</div>
<script>
  const usernameInput = document.getElementById('username');
  const passwordGroup = document.getElementById('password-group');
  usernameInput.addEventListener('input', function() {
    if (usernameInput.value.trim().toLowerCase() === 'admin') {
      passwordGroup.style.display = '';
      passwordGroup.querySelector('input').required = true;
    } else {
      passwordGroup.style.display = 'none';
      passwordGroup.querySelector('input').required = false;
    }
  });
</script>
{% endblock %} 